"use strict";(self.webpackChunkdoc_forge=self.webpackChunkdoc_forge||[]).push([[431],{2646:function(e,r,i){i.r(r),i.d(r,{frontMatter:function(){return l},contentTitle:function(){return o},metadata:function(){return c},toc:function(){return d},default:function(){return p}});var t=i(7462),s=i(3366),n=(i(7294),i(3905)),a=["components"],l={sidebar_position:1,title:"Access Transformer"},o=void 0,c={unversionedId:"advanced/access-transformer",id:"advanced/access-transformer",isDocsHomePage:!1,title:"Access Transformer",description:"Les access transformers (ou AT) permettent de modifier l'accessibilit\xe9  et la visibilit\xe9 des variables, m\xe9thodes et classes des librairies (retirer le final, changer l'attribut private en public, etc...).",source:"@site/docs/advanced/access-transformer.md",sourceDirName:"advanced",slug:"/advanced/access-transformer",permalink:"/docs/advanced/access-transformer",editUrl:"https://github.com/Les-Moddeurs-Francais/Forge-Doc/edit/main/docs/advanced/access-transformer.md",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Access Transformer"},sidebar:"tutorialSidebar",previous:{title:"Propri\xe9t\xe9s d'item",permalink:"/docs/items/properties"}},d=[{value:"Ajout du fichier pour les AT&#39;s",id:"ajout-du-fichier-pour-les-ats",children:[]},{value:"Commentaires",id:"commentaires",children:[]},{value:"Les modifieurs d&#39;acc\xe8s",id:"les-modifieurs-dacc\xe8s",children:[]},{value:"Obtenir les access transformers",id:"obtenir-les-access-transformers",children:[]},{value:"Exemples",id:"exemples",children:[]}],u={toc:d};function p(e){var r=e.components,i=(0,s.Z)(e,a);return(0,n.kt)("wrapper",(0,t.Z)({},u,i,{components:r,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Les ",(0,n.kt)("inlineCode",{parentName:"p"},"access transformers")," (ou AT) permettent de modifier l'accessibilit\xe9  et la visibilit\xe9 des variables, m\xe9thodes et classes des librairies (retirer le ",(0,n.kt)("inlineCode",{parentName:"p"},"final"),", changer l'attribut ",(0,n.kt)("inlineCode",{parentName:"p"},"private")," en ",(0,n.kt)("inlineCode",{parentName:"p"},"public"),", etc...)."),(0,n.kt)("h2",{id:"ajout-du-fichier-pour-les-ats"},"Ajout du fichier pour les AT's"),(0,n.kt)("p",null,"Pour sp\xe9cifier \xe0 ForgeGradle que le mod utilisera les access transformers, vous devez ajouter cette ligne dans le build.gradle (la cat\xe9gorie ",(0,n.kt)("inlineCode",{parentName:"p"},"minecraft")," est normalement d\xe9j\xe0 pr\xe9sente dans votre fichier) :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"minecraft {\n    accessTransformer = file('src/main/resources/META-INF/accesstransformer.cfg')\n}\n")),(0,n.kt)("p",null,"Apr\xe8s cela, vous devrez cr\xe9er un fichier ",(0,n.kt)("inlineCode",{parentName:"p"},"accesstransformer.cfg")," au niveau du chemin sp\xe9cifi\xe9."),(0,n.kt)("p",null,"Pour appliquer les ",(0,n.kt)("inlineCode",{parentName:"p"},"access trasnformers")," apr\xe8s une modification du fichier, vous devrez rafraichir le projet gradle."),(0,n.kt)("h2",{id:"commentaires"},"Commentaires"),(0,n.kt)("p",null,"Tous les textes succ\xe9dant un ",(0,n.kt)("inlineCode",{parentName:"p"},"#")," avant la fin de la ligne seront transcrits comme des commentaires et ne seront pas pris en compte."),(0,n.kt)("h2",{id:"les-modifieurs-dacc\xe8s"},"Les modifieurs d'acc\xe8s"),(0,n.kt)("p",null,"Les modificateurs d'acc\xe8s sp\xe9cifient vers quelle nouvelle visibilit\xe9 la cible donn\xe9e sera transform\xe9e. Par ordre d\xe9croissant de visibilit\xe9 :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"public")," - visible pour toutes les classes \xe0 l'int\xe9rieur et \xe0 l'ext\xe9rieur de son package"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"protected")," - visible uniquement pour les classes \xe0 l'int\xe9rieur du package et les sous-classes"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"default")," - visible uniquement pour les classes \xe0 l'int\xe9rieur du package"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"private")," - visible uniquement \xe0 l'int\xe9rieur de la classe")),(0,n.kt)("p",null,"Le modificateur sp\xe9cial +f et -f peut \xeatre ajout\xe9 aux modificateurs mentionn\xe9s plus haut afin d'ajouter ou de supprimer l'attribut ",(0,n.kt)("inlineCode",{parentName:"p"},"final"),"."),(0,n.kt)("h2",{id:"obtenir-les-access-transformers"},"Obtenir les access transformers"),(0,n.kt)("p",null,"Pour obtenir les access transformers, vous pouvez rejoindre le ",(0,n.kt)("a",{parentName:"p",href:"https://discord.gg/UvedJ9m"},"discord")," de Forge, vous rendre dans le channel bot-commands et utiliser ces 3 commandes (ceci concerne les mappings officiels) :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"!mojf")," suivi du nom de la variable (et cela peut \xeatre pr\xe9c\xe9d\xe9 du nom de la classe suivie d'un point pour plus de pr\xe9cisions, ex : ",(0,n.kt)("inlineCode",{parentName:"li"},"Block.harvestLevel"),") pour obtenir la ligne d'access transformer correspondante."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"!mojm")," suivi du nom de la fonction (et cela peut \xeatre pr\xe9c\xe9d\xe9 du nom de la classe suivie d'un point pour plus de pr\xe9cisions, ex : ",(0,n.kt)("inlineCode",{parentName:"li"},"Block.asBlock"),") pour obtenir la ligne d'access transformer correspondante."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"!mojc")," suivi du nom de la classe pour obtenir la ligne d'access transformer correspondante.")),(0,n.kt)("h2",{id:"exemples"},"Exemples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"# D\xe9finis la visibilit\xe9 de la m\xe9thode en public\nprotected net.minecraft.data.loot.BlockLoot m_124254_(Lnet/minecraft/world/level/block/Block;Lnet/minecraft/world/item/Item;)Lnet/minecraft/world/level/storage/loot/LootTable$Builder; # createStemDrops\n\n# D\xe9finis la visibilit\xe9 de la variable en protected\nprotected net.minecraft.client.gui.Gui f_168670_ # LINE_HEIGHT\n\n# D\xe9finis la visibilit\xe9 de la classe en protected\nprotected net.minecraft.client.gui.screens.MenuScreens\n")))}p.isMDXComponent=!0}}]);