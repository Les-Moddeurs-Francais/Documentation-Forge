---
sidebar_position: 2
title: Batches
description: Comment utiliser les batchs pour grouper des GameTests ?
tags: [avancé, game_test]
---

Les `Batch`s sont utilisés pour grouper des GameTests. Cela peut être utile par exemple pour des tests nécessitant des conditions spéciales (nuit, etc.), pour ne pas causer de conflits (exemple : tests devant se produire le jour)

Comme dit dans la page sur le framework en général, vous pouvez attribuer un batch à un GameTest en utilisant l'argument `batch` de l'annotation `@GameTest`.

### L'annotation `@BeforeBatch`
L'annotation `@BeforeBatch` permet d'appeler une méthode avant le début d'un batch spécifique.

Cette méthode **ne doit pas** être statique et doit recevoir un `ServerLevel` en argument.

Elle s'utilise de la manière suivante :
```java
@BeforeBatch(batch = "votre_batch")
public void beforeVotreBatch(ServerLevel level) {
    // Code à exécuter avant le début du batch
}
```
Le nom de la méthode est bien sûr libre

### L'annotation `@AfterBatch`
L'annotation `@AfterBatch` permet d'appeler une méthode après la fin d'un batch spécifique.

Cette méthode **ne doit pas** être statique et doit recevoir un `ServerLevel` en argument.

Elle s'utilise de la manière suivante :
```java
@AfterBatch(batch = "votre_batch")
public void afterVotreBatch(ServerLevel level) {
    // Code à exécuter après la fin du batch
}
```
Le nom de la méthode est bien sûr libre